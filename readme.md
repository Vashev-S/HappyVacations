# HappyVacations

Очень просто приложение для планирования отпусков в небольших командах.

----------------
Возможности:

* Календарь исключений праздничных и рабочих дней.

* Три вида дней отсутствия: Отпуск, донорские дни, отгул за свой счёт.

* Планирование в виде таблицы всей команды.

* Планирование индивидуальных отпусков на календаре.

* Подсчет отмеченных отпускных дней.

* Подсветка пересечений отпуска между сотрудниками одной роли\отдела.

* Расчет индекса зарплаты. См. описание ниже.

* Доступ по прямой ссылке с секретом без дополнительной авторизации.

* Расчет доступных SP на фичи в разрезе групп

-----

**Расчет индекса зарплаты**

Есть хитрости с тем, в какие месяца лучше не брать отпуск, чтобы не потерять в деньгах. Это зависит от того, как много рабочих и праздничных дней в том или ином месяце.

Общее правило такое: чем больше рабочих дней в месяце, тем выгоднее ходить в отпуск, вы не только не потеряете в общей оплате, а может даже и выиграете.

Давайте разберем на примере.

Предположим, что ваша зарплата составляет 1000 тугриков в месяц.

Возьмем за основу август 2023 года. В нем всего 31 день, из них 23 рабочих.

Подсчитаем стоимость одного рабочего дня - 1000 / 23 = 43,47 тугриков в день.

Предположим, вы решили взять отпуск на стандартные 2 недели (14 календарных дней), с 7 по 20 августа, значит вы отработаете в августе всего 13 дней.

Формула расчета ваших отпускных непростая, зависит от вашего среднего заработка за предшествующие 2 года, но для простоты мы будем считать, что вы не болели, зарплату вам не повышали и вы всегда получаете 1000 тугриков в месяц.

Стоимость одного дня отпуска считается по формуле Оклад / 29,3, значит вам выплатят отпускных 1000 / 29,3 * 14 = 487 тугрика.
Если у вас были повышения зарплаты, вы болели - тогда отпускные будут еще меньше. Если у вас были премии - тогда отпускные будут больше.

Зарплата за отработанные дни составит 1000 / 23 * 13 = 565 тугрика.

Суммарно за месяц вы получите 565 + 487 = 1053 тугрика.

Ваш заплатанный индекс = Суммарная выплата / оклад = 1053 / 1000 = 1,05. Индекс показывает, что взяв отпуск в августе, вы получите денег немного больше обычного.

Теперь возьмем месяц в котором мало рабочих дней, это январь 2023 года, в нем 31 календарный, но всего 17 рабочих.
Вы берете отпуск 14 календарных дней с 9 по 22 января, рабочих соответственно всего 7.

Отпускные - 1000 / 29,3 * 14 = 487 тугрика.

Зарплата - 1000 / 17 * 7 = 411 тугрика.

Суммарно за месяц вы получите 411 + 487 = 898 тугрика.

Ваш заплатанный индекс = Суммарная выплата / оклад = 898 / 1000 = 0,89. Здесь индекс показывает, что взяв отпуск в январе, вы получите существенно меньше обычного.

-----

**Расчет доступных SP на фичи в разрезе групп**

Расчет доступных SP на фичи происходит по методике перевода рабочих часов по формуле

SP = Рабочие часы / Часов в story point - Коэф накладных расходов (дейлики, планировани и т.п.) - Коэф операционных задач (баги, техдолг и т.п.)

Особенностью данной методики явяется то, что SP не устанавливается экспертным путем на накопелнном опыте по сложности задач, а вычисляется от рабочего времени.

Все коэффициенты доступны настройках команды.

По умолчанию:

* Рабочие часы = рабочие дни * 8 часов

* Часов в story point = 8

* Коэф накладных расходов = 20%

* Коэф операционных задач = 45%



------

**Используемые компоненты, технологии, зависимости**

* .Net 7.0 Blazor Web Assembly - бессерверный сайт и статический хостинг

* https://www.fluentui-blazor.net/ - библиотека UI компонентов для Blazor

* Google Firebase - облачная база для хранения

---------

**Запуск**

В консоли выполнить команду 

`dotnet run`

открыть браузер по адресу  http://localhost:5248/sdf323asdf/adacta

**Демо стенд**

https://for7raid.github.io/HappyVacations/sdf323asdf/adacta

---------

**FAQ**

**Есть ли авторизация**

Нет, инструмент делается для маленьких и доверительных команд, поэтому используется простая авторизация по секрету в адресе, у кого есть ссылка - имет доступ к своей команде.

**Есть ли рассылка о приблежающемся отпуске**

Нет, это бессерверное приложение, у него нет сервера, а еще мы не храним email сотрудников, поэтому невозможно сделать задание по таймеру для рассылки.

**Есть ли механизм соглаосвания с руководителем**

Нет, инструмент делается для маленьких и доверительных команд, поэтому все делается на честном слове и лид команды просто мониторит изменения.

**А режим совместного редактирования как в Google Spreadsheet**

Пока нет, но в планах.